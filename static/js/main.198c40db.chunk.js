(this["webpackJsonphello-world"]=this["webpackJsonphello-world"]||[]).push([[0],{12:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),i=c(5),s=c.n(i),l=(c(4),c(2)),o=c(0),r=function(e){return Object(o.jsx)("div",{className:"col-lg-6",children:Object(o.jsx)("div",{className:"card mb-3",children:Object(o.jsxs)("div",{className:"row g-0",children:[Object(o.jsx)("div",{className:"col-4",children:Object(o.jsx)("img",{src:e.img.PictureUrl1?e.img.PictureUrl1:"",className:"img-fluid rounded-start",alt:"...",style:{height:"125px",objectFit:"cover"}})}),Object(o.jsx)("div",{className:"col-8",children:Object(o.jsx)("div",{className:"card-body",children:Object(o.jsx)("h5",{className:"card-title",style:{fontSize:"14px"},children:e.name})})})]})})})},d=c.p+"static/media/icon_logo.bbf077d6.svg",u=function(e){var t=Object(n.useState)("ScenicSpot"),c=Object(l.a)(t,2),a=c[0],i=c[1],s=Object(n.useState)([]),u=Object(l.a)(s,2),j=u[0],b=u[1];Object(n.useEffect)((function(){var e=JSON.parse(window.localStorage.getItem("myFav"));return e=e.filter((function(e){return e.type===a}))[0].favList,console.log("myFavType",a),console.log("myFavList",e),b(e),function(){}}),[a]);var m={color:"#fff",backgroundColor:"#dc3545",borderColor:"#dc3545",marginRight:"12px"},h={color:"#959595",backgroundColor:"#fff",borderColor:"#fff",marginRight:"12px"};return Object(o.jsxs)("div",{children:[Object(o.jsxs)("div",{className:"header",children:[Object(o.jsx)("span",{className:"logo",onClick:function(){e.logoClick()},children:Object(o.jsx)("img",{src:d,className:"img",alt:"logo"})}),Object(o.jsx)("span",{className:"fav",children:Object(o.jsxs)("button",{type:"button",className:"btn btn-light","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:[Object(o.jsx)("i",{className:"fas fa-heart"}),"mobile"===function(){var e=Object(n.useState)("mobile"),t=Object(l.a)(e,2),c=t[0],a=t[1],i=function(){window.innerWidth>768?a("PC"):window.innerWidth>576?a("tablet"):a("mobile")};return Object(n.useEffect)((function(){return window.addEventListener("resize",i),i(),function(){window.removeEventListener("resize",i)}}),[]),c}()?"":"\u6211\u7684\u6700\u611b"]})})]}),Object(o.jsx)("div",{className:"modal fade",id:"exampleModal","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(o.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:Object(o.jsxs)("div",{className:"modal-content",children:[Object(o.jsxs)("div",{className:"modal-header",children:[Object(o.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"\u6211\u7684\u6700\u611b"}),Object(o.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(o.jsxs)("div",{className:"modal-body",children:[Object(o.jsxs)("div",{className:"d-flex typeList",style:{marginBottom:"5px"},children:[Object(o.jsx)("span",{children:Object(o.jsx)("button",{type:"button",className:"btn rounded-pill",onClick:function(){i("ScenicSpot")},style:"ScenicSpot"===a?m:h,children:"\u666f\u9ede"})}),Object(o.jsx)("span",{children:Object(o.jsx)("button",{type:"button",className:"btn rounded-pill",onClick:function(){i("Restaurant")},style:"Restaurant"===a?m:h,children:"\u9910\u98f2"})}),Object(o.jsx)("span",{children:Object(o.jsx)("button",{type:"button",className:"btn rounded-pill",onClick:function(){i("Hotel")},style:"Hotel"===a?m:h,children:"\u65c5\u5bbf"})}),Object(o.jsx)("span",{children:Object(o.jsx)("button",{type:"button",className:"btn rounded-pill",onClick:function(){i("Activity")},style:"Activity"===a?m:h,children:"\u6d3b\u52d5"})})]}),Object(o.jsx)("div",{className:"row g-2",children:j.length?j.map((function(e){return Object(o.jsx)(r,{name:e.Name,img:e.Picture},e.ID)})):""})]})]})})})]})},j=function(){return Object(o.jsx)("div",{className:"footer",children:Object(o.jsx)("span",{children:"THE F2E 3rd Week 01 Desin by : Frank Peng"})})},b=function(e){var t=Object(n.useState)(e.isFav),c=Object(l.a)(t,2),a=c[0],i=c[1];return Object(o.jsxs)("div",{className:"col-lg-3 col-sm-6",style:{marginBottom:"0.5rem",position:"relative"},children:[Object(o.jsxs)("div",{className:"card",onClick:e.onClick,children:[Object(o.jsx)("img",{src:e.img,className:"card-img-top",style:{height:"200px",objectFit:"cover"},alt:""}),Object(o.jsx)("div",{className:"card-body",children:Object(o.jsx)("p",{className:"card-text",style:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},title:e.name,children:e.name})})]}),Object(o.jsx)("div",{className:"heart",onClick:function(t){t.stopPropagation(),console.log("heart"),e.fav(),i(!a)},children:a?Object(o.jsx)("i",{className:"fas fa-heart",style:{color:"#dc3545"}}):Object(o.jsx)("i",{className:"far fa-heart"})})]})},m=function(e){var t={color:"#aaa",cursor:"pointer"},c={backgroundColor:"red",color:"white",cursor:"not-allowed"};return Object(o.jsxs)("div",{className:"pagination d-flex",children:[Object(o.jsx)("span",{className:"page",onClick:function(){e.subtract()},style:1===e.num?c:t,children:"\uff1c"}),Object(o.jsx)("span",{className:"page",children:e.num}),Object(o.jsx)("span",{className:"page",onClick:function(){e.add()},style:e.isLast?c:t,children:"\uff1e"})]})},h=c(6),f=function(e){var t=Object(n.useState)([]),c=Object(l.a)(t,2),a=c[0],i=c[1],s=Object(n.useState)(1),r=Object(l.a)(s,2),d=r[0],u=r[1],j=Object(n.useState)(!1),f=Object(l.a)(j,2),p=f[0],g=f[1],O=function(){var e=(new Date).toGMTString(),t=new h.a("SHA-1","TEXT");return t.setHMACKey("sw0INMZ4b6qO127EZLxbgCWch3Q","TEXT"),t.update("x-date: "+e),{Authorization:'hmac username="1da9a83fdb34426584220c435d48b66a", algorithm="hmac-sha1", headers="x-date", signature="'+t.getHMAC("B64")+'"',"X-Date":e}};Object(n.useEffect)((function(){e.isReset&&u(1);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;console.log("inFetch",e.currentCity,e.filterName);var c="",n="";e.filterName&&(c="$filter=contains(Name, '".concat(e.filterName,"')&")),t&&(n="$skip=".concat(16*t,"&"));var a="https://ptx.transportdata.tw/MOTC/v2/Tourism/".concat(e.currentType,"/").concat(e.currentCity,"?").concat(n,"$top=16&").concat(c,"$format=JSON");fetch(a,{headers:O()}).then((function(e){return e.json()})).then((function(t){var c;console.log("myJson",t),window.localStorage.getItem("myFav")&&(c=(c=JSON.parse(window.localStorage.getItem("myFav")).filter((function(t){return t.type===e.currentType}))[0].favList).map((function(e){return e.ID}))),t=t.map((function(e){for(var t=0;t<c.length;t++)e.ID===c[t]&&(e.isFav=!0);return e})),i(t),t.length<16||"API rate limit exceeded"===t.message?g(!0):g(!1)}))}(d-1),function(){}}),[d,e.currentCity,e.filterName,e.isReset,e.currentType]);return Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"row g-2",children:a.length?a.map((function(t){return Object(o.jsx)(b,{name:t.Name,img:t.Picture.PictureUrl1,onClick:function(){!function(t){e.current(t)}(t)},fav:function(){!function(t){console.log("fav",t);var c=[];window.localStorage.getItem("myFav")?(c=(c=JSON.parse(window.localStorage.getItem("myFav"))).map((function(c){if(c.type===e.currentType){var n=c.favList.findIndex((function(e){return e.ID===t.ID}));console.log("index",n),-1===n?c.favList.push(t)&&(t.isFav=!0):c.favList.splice(n,1)&&delete t.isFav}return c})),console.log("localStorage",c),window.localStorage.setItem("myFav",JSON.stringify(c))):(c=(c=[{type:"ScenicSpot",favList:[]},{type:"Restaurant",favList:[]},{type:"Hotel",favList:[]},{type:"Activity",favList:[]}]).map((function(c){return c.type===e.currentType&&(c.favList.push(t),t.isFav=!0),c})),window.localStorage.setItem("myFav",JSON.stringify(c))),console.log("data",a)}(t)},isFav:t.hasOwnProperty("isFav")&&t.isFav},t.ID)})):"\u66ab\u7121\u8cc7\u6599"}),Object(o.jsx)("div",{className:"d-flex justify-content-center mt-5",children:Object(o.jsx)(m,{add:function(){p||(u(d+1),e.clearReset())},subtract:function(){d>1&&(u(d-1),e.clearReset())},num:d,isLast:p})})]})},p=function(e){return Object(o.jsxs)("div",{className:"row g-2 justify-content-center",children:[Object(o.jsx)("div",{className:"col-md-6",children:Object(o.jsx)("img",{src:e.detail.Picture.PictureUrl1,alt:"",style:{width:"100%",height:"530px",objectFit:"cover",borderRadius:"1rem"}})}),Object(o.jsx)("div",{className:"col-md-6",children:Object(o.jsx)("div",{className:"card",style:{width:"100%",height:"530px",overflow:"auto"},children:Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsx)("h5",{className:"card-title",style:{fontSize:"24px",fontWeight:"bold"},children:e.detail.Name}),Object(o.jsxs)("p",{className:"card-text",children:[Object(o.jsx)("span",{style:{fontSize:"16px",fontWeight:"bold"},children:"\u958b\u653e\u6642\u9593"}),Object(o.jsx)("div",{className:"mt-2",style:{fontSize:"14px"},children:e.detail.OpenTime?e.detail.OpenTime:"\u66ab\u672a\u63d0\u4f9b"})]}),Object(o.jsxs)("p",{className:"card-text",children:[Object(o.jsx)("span",{style:{fontSize:"16px",fontWeight:"bold"},children:"\u7c21\u4ecb"}),Object(o.jsx)("div",{className:"mt-2",style:{fontSize:"14px"},children:e.detail.DescriptionDetail?e.detail.DescriptionDetail:"\u66ab\u672a\u63d0\u4f9b"})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("button",{type:"button",className:"btn",style:{color:"#dc3545",borderColor:"#dc3545",marginRight:"10px"},children:e.detail.Phone}),e.detail.WebsiteUrl?Object(o.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){window.open(e.detail.WebsiteUrl)},children:"\u5b98\u7db2"}):""]})]})})})]})},g=function(e){var t=Object(n.useState)(e.select),c=Object(l.a)(t,2),i=c[0],s=c[1],r=a.a.createRef();return Object(o.jsxs)("div",{className:"search d-flex",children:[Object(o.jsx)("span",{className:"selectPlace",children:Object(o.jsx)("select",{className:"form-select",value:i,onChange:function(e){s(e.target.value)},children:[{eng:"Kaohsiung",zh:"\u9ad8\u96c4\u5e02"},{eng:"Taipei",zh:"\u81fa\u5317\u5e02"},{eng:"Chiayi",zh:"\u5609\u7fa9\u5e02"},{eng:"Taichung",zh:"\u81fa\u4e2d\u5e02"},{eng:"HualienCounty",zh:"\u82b1\u84ee\u7e23"},{eng:"YunlinCounty",zh:"\u96f2\u6797\u7e23"},{eng:"PingtungCounty",zh:"\u5c4f\u6771\u7e23"},{eng:"KinmenCounty",zh:"\u91d1\u9580\u7e23"},{eng:"PenghuCounty",zh:"\u6f8e\u6e56\u7e23"},{eng:"YilanCounty",zh:"\u5b9c\u862d\u7e23"},{eng:"MiaoliCounty",zh:"\u82d7\u6817\u7e23"},{eng:"LienchiangCounty",zh:"\u9023\u6c5f\u7e23"},{eng:"HsinchuCounty",zh:"\u65b0\u7af9\u7e23"},{eng:"NewTaipei",zh:"\u65b0\u5317\u5e02"},{eng:"Taoyuan",zh:"\u6843\u5712\u5e02"},{eng:"Keelung",zh:"\u57fa\u9686\u5e02"},{eng:"Hsinchu",zh:"\u65b0\u7af9\u5e02"},{eng:"ChiayiCounty",zh:"\u5609\u7fa9\u7e23"},{eng:"NantouCounty",zh:"\u5357\u6295\u7e23"},{eng:"ChanghuaCounty",zh:"\u5f70\u5316\u7e23"},{eng:"Tainan",zh:"\u81fa\u5357\u5e02"},{eng:"TaitungCounty",zh:"\u81fa\u6771\u7e23"}].map((function(e,t){return Object(o.jsx)("option",{value:e.eng,children:e.zh},t)}))})}),Object(o.jsx)("span",{className:"inputPlace",children:Object(o.jsx)("input",{type:"text",className:"form-control",ref:r})}),Object(o.jsx)("span",{className:"btnPlace",onClick:function(){e.currentCity(i),e.filterName(r.current.value),e.clickSearch(!0)},children:Object(o.jsx)("button",{type:"button",className:"btn btn-danger",children:"\u641c\u5c0b"})})]})},O=function(e){var t={color:"#fff",backgroundColor:"#dc3545",borderColor:"#dc3545",marginRight:"12px"},c={color:"#959595",backgroundColor:"#fff",borderColor:"#fff",marginRight:"12px"},a=Object(n.useState)(""),i=Object(l.a)(a,2),s=i[0],r=i[1];return Object(n.useEffect)((function(){return"ScenicSpot"===e.currentType?r("\u666f\u9ede"):"Restaurant"===e.currentType?r("\u9910\u98f2"):"Hotel"===e.currentType?r("\u65c5\u5bbf"):"Activity"===e.currentType&&r("\u6d3b\u52d5"),function(){}}),[e.currentType]),Object(o.jsxs)("div",{className:"",children:[Object(o.jsx)("div",{className:"title",children:s}),e.inListItem?"":Object(o.jsxs)("div",{className:"d-flex typeList",children:[Object(o.jsx)("span",{children:Object(o.jsx)("button",{type:"button",className:"btn rounded-pill",onClick:function(){e.onClick("ScenicSpot")},style:"ScenicSpot"===e.currentType?t:c,children:"\u666f\u9ede"})}),Object(o.jsx)("span",{children:Object(o.jsx)("button",{type:"button",className:"btn rounded-pill",onClick:function(){e.onClick("Restaurant")},style:"Restaurant"===e.currentType?t:c,children:"\u9910\u98f2"})}),Object(o.jsx)("span",{children:Object(o.jsx)("button",{type:"button",className:"btn rounded-pill",onClick:function(){e.onClick("Hotel")},style:"Hotel"===e.currentType?t:c,children:"\u65c5\u5bbf"})}),Object(o.jsx)("span",{children:Object(o.jsx)("button",{type:"button",className:"btn rounded-pill",onClick:function(){e.onClick("Activity")},style:"Activity"===e.currentType?t:c,children:"\u6d3b\u52d5"})})]})]})},x=c.p+"static/media/ScenicSpot.d9c25bf4.png",y=c.p+"static/media/Restaurant.692a94e7.png",v=c.p+"static/media/Hotel.83e939df.png",N=c.p+"static/media/Activity.a4adc702.png",C=function(e){var t=Object(n.useState)(!1),c=Object(l.a)(t,2),a=c[0],i=c[1];Object(n.useEffect)((function(){return e.isHome&&i(!1),function(){}}),[e.isHome]);var s=Object(n.useState)({}),r=Object(l.a)(s,2),d=r[0],u=r[1],j=Object(n.useState)("Taipei"),b=Object(l.a)(j,2),m=b[0],h=b[1],C=Object(n.useState)(""),S=Object(l.a)(C,2),w=S[0],k=S[1],T=Object(n.useState)(!1),z=Object(l.a)(T,2),F=z[0],L=z[1],R=Object(n.useState)("ScenicSpot"),I=Object(l.a)(R,2),P=I[0],H=I[1],A=Object(n.useState)(x),D=Object(l.a)(A,2),E=D[0],M=D[1],J={backgroundImage:"url(".concat(E,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat"};return Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{style:J,children:Object(o.jsxs)("div",{className:"container",style:{paddingBottom:"25px",paddingTop:"80px"},children:[Object(o.jsx)(O,{currentType:P,onClick:function(e){P===e?console.log("same"):(console.log(e),H(e),"ScenicSpot"===e&&M(x),"Restaurant"===e&&M(y),"Hotel"===e&&M(v),"Activity"===e&&M(N))},inListItem:a}),a?"":Object(o.jsx)(g,{currentCity:function(e){console.log("city",e),h(e)},select:m,filterName:function(e){console.log("filter",e),k(e)},clickSearch:function(e){L(e)}})]})}),Object(o.jsx)("div",{className:"content container-fluid",children:a?Object(o.jsx)(p,{detail:d}):Object(o.jsx)(f,{current:function(e){console.log("x",e),u(e),i(!0)},currentCity:m,filterName:w,isReset:F,clearReset:function(){F&&L(!1)},currentType:P})})]})};function S(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){return function(){a(!1)}}),[c]),Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(u,{logoClick:function(){console.log("logo is click"),a(!0)}}),Object(o.jsx)(C,{isHome:c}),Object(o.jsx)(j,{})]})}var w=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,13)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),i(e),s(e)}))};s.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(S,{})}),document.getElementById("root")),w()},4:function(e,t,c){}},[[12,1,2]]]);
//# sourceMappingURL=main.198c40db.chunk.js.map